class AjaxFormSubmit{constructor(e,t){this._elements=document.querySelectorAll(e),this._setParams(t),this._run()}_setParams(e){this._debug=e.debug||!1,this._callback=e.callback||null}_run(){this._elements.forEach((e=>{e.addEventListener("submit",(t=>{t.preventDefault();let s=new FormData(e),r=e.action,n=e.method,o=document.head.querySelector("[name=csrf-token]"),l=new XMLHttpRequest;l.open(n,r),null!=o&&l.setRequestHeader("X-CSRF-TOKEN",document.head.querySelector("[name=csrf-token]").content),l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.send(s),e.reset(),null!=this._callback&&this._callback(),l.addEventListener("load",(()=>{200===l.status?this._debug&&console.log("Form Submit Successfully"):this._debug&&console.error("Something went wrong")})),l.addEventListener("error",(()=>{this._debug&&console.error("Error submitting form")}))}))}))}}